<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeFi Analytics</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div class="container">
        <!-- Loading/Error Display -->
        <div id="status-panel" class="status-panel">
            <div class="loading">
                <div class="spinner"></div>
                <span>Loading data...</span>
            </div>
            <div class="error hidden">
                <span class="error-message"></span>
                <button class="btn-retry">Retry</button>
            </div>
        </div>

        <!-- Main Interface (hidden initially) -->
        <div id="main-interface" class="hidden">
            <!-- Header/Filter Panel -->
            <header class="filter-panel">
                <div class="filter-section">
                    <label for="date-from-filter">Date From</label>
                    <input type="date" id="date-from-filter" class="filter-input">
                </div>
                
                <div class="filter-section">
                    <label for="date-to-filter">Date To</label>
                    <div class="date-to-container">
                        <input type="checkbox" id="date-to-checkbox" class="date-to-checkbox" checked>
                        <input type="date" id="date-to-filter" class="filter-input">
                    </div>
                </div>
                
                <div class="filter-section">
                    <label>Accounts</label>
                    <div id="accounts-filter" class="multi-select">
                        <div class="multi-select-header">
                            <span class="placeholder">Select accounts...</span>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="multi-select-dropdown" id="accounts-dropdown"></div>
                    </div>
                </div>
                
                <div class="filter-section">
                    <label>V2 Pairs</label>
                    <div id="v2pairs-filter" class="multi-select">
                        <div class="multi-select-header">
                            <span class="placeholder">Select V2 pairs...</span>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="multi-select-dropdown" id="v2pairs-dropdown"></div>
                    </div>
                </div>
                
                <div class="filter-section">
                    <label>V3 Pools</label>
                    <div id="v3pools-filter" class="multi-select">
                        <div class="multi-select-header">
                            <span class="placeholder">Select V3 pools...</span>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="multi-select-dropdown" id="v3pools-dropdown"></div>
                    </div>
                </div>
                
                <button id="run-query" class="btn-primary">Run Query</button>
            </header>

            <!-- Tab Panel -->
            <div class="tab-panel">
                <div class="tab-header">
                    <button class="tab-button active" data-tab="records">Records</button>
                    <button class="tab-button" data-tab="pnl">PnL</button>
                </div>
                
                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Records Tab Content -->
                    <div id="records-tab" class="tab-pane active">
                        <!-- Records Panel -->
                        <main id="records-panel" class="records-panel">
                            <!-- Records will be displayed here -->
                        </main>
                    </div>
                    
                    <!-- PnL Tab Content -->
                    <div id="pnl-tab" class="tab-pane">
                        <!-- PnL Panel -->
                        <main id="pnl-panel" class="pnl-panel">
                            <!-- PnL will be displayed here -->
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="filters.js"></script>
    <script src="records.js"></script>
    <script src="app.js"></script>
</body>
</html>